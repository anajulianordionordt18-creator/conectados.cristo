(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,243494,e=>{"use strict";var s=e.i(672042),n=e.i(176248),a=e.i(423746),t=e.i(323194),l=e.i(297239),i=e.i(430894);function r(){let{loginUrl:e}=(0,t.useSignInDialog)(),[s,n]=(0,a.useState)(!1),r=(0,l.useT)();return(0,t.useOAuthLoginEnabled)()?{actions:[{label:r("signInDialog.authConnect"),onClick:()=>{n("login"),(0,i.signIn)("vercel")},variant:"default",disabled:!!s}]}:{actions:[{label:r("chatAuthButtons.signin"),onClick:()=>{n("login"),window.location.href=e},variant:"secondary",disabled:"login"===s},{label:r("chatAuthButtons.signup"),onClick:()=>{n("signup"),window.location.href=`${e}&action=signup`},variant:"default",disabled:"signup"===s}]}}function d(){let{actions:e}=r();return(0,s.jsx)("div",{className:"flex gap-2",children:e.map(e=>(0,s.jsx)(n.Button,{className:"h-7 rounded-md",size:"sm",variant:e.variant,onClick:e.onClick,disabled:e.disabled,children:e.label},e.label))})}e.s(["ChatAuthButtons",()=>d,"useChatAuthButtons",()=>r])},805214,670786,396211,948288,876961,e=>{"use strict";var s=e.i(672042),n=e.i(423746),a=e.i(556355),t=e.i(176248),l=e.i(762585),i=e.i(297239),r=e.i(991020);let d=(0,r.withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 13.5H6.75V15H2C1.44772 15 1 14.5523 1 14V2C1 1.44771 1.44772 1 2 1H6.75V2.5L2.5 2.5L2.5 13.5ZM12.4393 7.24999L10.4697 5.28031L9.93934 4.74998L11 3.68932L11.5303 4.21965L14.6036 7.29288C14.9941 7.6834 14.9941 8.31657 14.6036 8.70709L11.5303 11.7803L11 12.3106L9.93934 11.25L10.4697 10.7197L12.4393 8.74999L5.75 8.74999H5V7.24999H5.75L12.4393 7.24999Z" fill="currentColor"/>');var c=e.i(210320),o=e.i(827050),u=e.i(93219);let m=(0,r.withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8.62499 3.375V4V4.375H9C10.1736 4.375 11.125 5.3264 11.125 6.5H9.875C9.875 6.01675 9.48325 5.625 9 5.625H8.62499V7.375H9C10.1736 7.375 11.125 8.3264 11.125 9.5C11.125 10.6736 10.1736 11.625 9 11.625H8.62499V12V12.625H7.37499V12V11.625H7C5.8264 11.625 4.875 10.6736 4.875 9.5H6.125C6.125 9.98325 6.51675 10.375 7 10.375H7.37499V8.625H7C5.8264 8.625 4.875 7.6736 4.875 6.5C4.875 5.3264 5.8264 4.375 7 4.375H7.37499V4V3.375H8.62499ZM7.37499 5.625H7C6.51675 5.625 6.125 6.01675 6.125 6.5C6.125 6.98325 6.51675 7.375 7 7.375H7.37499V5.625ZM8.62499 8.625V10.375H9C9.48325 10.375 9.875 9.98325 9.875 9.5C9.875 9.01675 9.48325 8.625 9 8.625H8.62499Z" fill="currentColor"/>');var h=e.i(336078),x=e.i(393294),p=e.i(88139),g=(0,p.createServerReference)("0012872898a58580222c855d085291eea3044a2e30",p.callServer,void 0,p.findSourceMapURL,"logoutAction"),v=e.i(230766),f=e.i(304649),j=e.i(966848),b=e.i(905732),C=e.i(595722),N=e.i(906261),y=e.i(667660),w=e.i(117286),M=e.i(592258),S=e.i(479273),L=e.i(145568),k=(0,p.createServerReference)("40b8ddcf7ed4d391794b2edaa81aea672232666bc2",p.callServer,void 0,p.findSourceMapURL,"setAdminMode"),D=(0,p.createServerReference)("406c6130acbaa14e7afeb197b6ac17f00b01967d80",p.callServer,void 0,p.findSourceMapURL,"setDemoMode"),I=e.i(990453),B=e.i(393799),T=e.i(385671);function H(){let e=(0,i.useT)(),{user:t}=(0,y.useActiveScope)(),[l,r]=(0,n.useTransition)(),[d,c]=(0,n.useState)(),o=(0,n.useMemo)(()=>d??t?.isAdminMode,[d,t?.isAdminMode]),[u,m]=(0,n.useTransition)(),[h,x]=(0,n.useState)(),p=(0,n.useMemo)(()=>h??t?.isDemoMode,[h,t?.isDemoMode]);return(0,s.jsxs)(s.Fragment,{children:[t?.isVercelian?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(j.MenuGroup,{children:[(0,s.jsx)(j.MenuLabel,{children:"Internal"}),!p&&t?.isV0Admin&&(0,s.jsx)(P,{clickable:!0,disabled:l,onClick:()=>{let e=!o;c(e),r(()=>k(e))},label:"Admin Mode",children:(0,s.jsx)(I.Switch,{className:"pointer-events-none",checked:o,asDiv:!0})}),(0,s.jsx)(P,{clickable:!0,disabled:u,onClick:()=>{let e=!p;x(e),m(()=>D(e))},label:"Priority Mode",children:(0,s.jsx)(I.Switch,{className:"pointer-events-none",checked:p,asDiv:!0})})]}),(0,s.jsx)(a.DropdownMenuSeparator,{})]}):null,(0,s.jsxs)(j.MenuGroup,{children:[(0,s.jsx)(j.MenuLabel,{children:e("sidebar.scopeSwitcher.preferences")}),(0,s.jsx)(P,{label:e("sidebar.scopeSwitcher.theme"),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),document.getElementById("theme-switcher")?.focus())},children:(0,s.jsx)(w.ThemeSwitcher,{})}),(0,s.jsx)(P,{label:e("sidebar.scopeSwitcher.language"),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),document.getElementById("locale-switcher")?.focus())},children:(0,s.jsx)(A,{})}),(0,s.jsx)(P,{label:"Chat Position",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),document.getElementById("chat-position-switcher")?.focus())},children:(0,s.jsx)(F,{})})]})]})}function A(){let{locale:e,setLocale:a}=(0,S.useLocale)(),t=(0,n.useCallback)(e=>{a(e)},[a]);return(0,s.jsxs)(M.Select,{onValueChange:t,value:e,children:[(0,s.jsx)(M.SelectTrigger,{id:"locale-switcher",className:"h-7 gap-1 px-2 [&>svg]:w-3 [&>svg]:shrink-0 w-auto","data-testid":"language-selector",children:(0,s.jsx)("div",{className:"truncate text-xs",children:(0,s.jsx)(M.SelectValue,{placeholder:L.ISO639_TO_LOCALEINFO[e].name})})}),(0,s.jsx)(M.SelectContent,{children:(0,s.jsx)(M.SelectGroup,{children:Object.keys(L.ISO639_TO_LOCALEINFO).map(e=>(0,s.jsx)(M.SelectItem,{value:e,children:L.ISO639_TO_LOCALEINFO[e].name},e))})})]})}function F(){let e=(0,T.getChatLayoutAtoms)(),a=(0,T.getChatLayoutActions)(),t=(0,B.useAtomValue)(e.isChatOnRight),l=(0,n.useCallback)(e=>{a.setChatOnRight("right"===e)},[a]);return(0,s.jsxs)(M.Select,{onValueChange:l,value:t?"right":"left",children:[(0,s.jsx)(M.SelectTrigger,{id:"chat-position-switcher",className:"h-7 gap-1 px-2 [&>svg]:w-3 [&>svg]:shrink-0 w-auto","data-testid":"chat-position-selector",children:(0,s.jsx)("div",{className:"truncate text-xs",children:(0,s.jsx)(M.SelectValue,{placeholder:t?"Right":"Left"})})}),(0,s.jsx)(M.SelectContent,{children:(0,s.jsxs)(M.SelectGroup,{children:[(0,s.jsx)(M.SelectItem,{value:"left",children:"Left"}),(0,s.jsx)(M.SelectItem,{value:"right",children:"Right"})]})})]})}let P=({label:e,children:n,clickable:a=!1,className:t,...l})=>{let i=(0,f.cn)("cursor-default items-center justify-between gap-4 focus:bg-transparent focus-visible:bg-gray-100","function"==typeof l.onClick&&"cursor-pointer",t);return(0,s.jsxs)(j.MenuItem,{className:i,clickable:a,svgStyling:!1,...l,children:[(0,s.jsx)(j.MenuItemContent,{label:e}),n]})};var O=e.i(230657);let V=n.forwardRef(({className:e,value:n,...a},t)=>(0,s.jsx)(O.Root,{ref:t,className:(0,f.cn)("bg-secondary relative h-4 w-full overflow-hidden rounded-full",e),...a,children:(0,s.jsx)(O.Indicator,{className:"h-full w-full flex-1 rounded-r-full bg-v0-teal-700 transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}));V.displayName=O.Root.displayName;var R=e.i(745197);function E(){let[e]=(0,R.useRateLimit)();if(!e)return(0,s.jsxs)("div",{className:"text-v0-gray-900 flex w-full flex-col gap-1.5 p-1.5 text-[13px] font-medium",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-v0-gray-900",children:"Messages Left"}),(0,s.jsx)(l.Skeleton,{className:"h-3 w-12"})]}),(0,s.jsx)(l.Skeleton,{className:"h-2 w-full"}),(0,s.jsx)(l.Skeleton,{className:"mb-[3.5px] mt-1 h-3 w-32"})]});let n=e.remaining/e.limit*100,a=e.reset?Math.ceil((new Date(e.reset).getTime()-Date.now())/864e5):0;return(0,s.jsxs)("div",{className:"text-v0-gray-900 flex w-full flex-col gap-1.5 p-1.5 text-[13px] font-medium",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-v0-gray-900",children:"Messages Left"}),(0,s.jsxs)("span",{className:"flex items-center gap-1 text-v0-gray-900",children:[e.remaining,"/",e.limit]})]}),(0,s.jsx)(V,{value:n,className:"h-2"}),e.reset&&(0,s.jsx)("div",{className:"flex items-center justify-between font-normal",children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:["Usage resets in ",a," ",(0,s.jsx)("span",{children:1===a?"day":"days"})]})})]})}var U=e.i(296046);e.i(904347);var z=e.i(37737),_=e.i(301936),G=e.i(908431);G.z.union([G.z.literal("v0-level0"),G.z.literal("v0-level3"),G.z.literal("v0-team"),G.z.literal("v0-enterprise")]);let Z={"v0-level0":{name:"Free",credits:5},"v0-level3":{name:"Premium",credits:20},"v0-team":{name:"Team",credits:30},"v0-enterprise":{name:"Enterprise",credits:0}};Object.keys(Z);var $=e.i(936990);function K(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(j.MenuGroup,{children:[(0,s.jsx)(j.MenuLabel,{children:"Credit Balance"}),(0,s.jsx)(Y,{label:"Monthly credits"}),(0,s.jsx)(Y,{label:"Purchased credits"})]}),(0,s.jsx)(a.DropdownMenuSeparator,{})]})}function Y(e){let{label:n}=e;return(0,s.jsxs)(j.MenuItem,{className:"focus-visible:none cursor-default items-center justify-between gap-4 focus:bg-transparent",clickable:!1,svgStyling:!1,children:[(0,s.jsx)(j.MenuItemContent,{label:n}),(0,s.jsx)("div",{className:"h-5 w-16 animate-pulse rounded bg-v0-gray-200"})]})}var Q=e.i(996174),W=e.i(897850);function q(e){if(!e.balance.blocks)return 0;let s=e.balance.blocks.find(e=>e.metadata?.promo==="daily_credits");return s?.currentBalance??0}function J(){let{planInfo:e,mutate:n}=(0,$.useTokenBillingPlanInfo)();if(!e||"v0-enterprise"===e.plan)return null;let l=q(e),i=e.balance.remaining-l,r=e.onDemand.balance,d=i+r+l,c="v0-level0"!==e.plan,o=()=>{n()};return(0,s.jsxs)(a.DropdownMenu,{children:[(0,s.jsx)(a.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(t.Button,{variant:"secondary",size:"sm",className:"rounded-md h-7 hidden sm:flex",children:[(0,s.jsx)(X,{}),(0,s.jsx)("span",{className:"text-sm font-medium",children:d.toFixed(2)})]})}),(0,s.jsxs)(a.DropdownMenuContent,{align:"end",className:"w-64",children:[(0,s.jsxs)(a.DropdownMenuGroup,{children:[(0,s.jsx)(a.DropdownMenuLabel,{className:"text-v0-gray-900 font-medium",children:"Credit Balance"}),(0,s.jsxs)(a.DropdownMenuItem,{className:"justify-between text-sm",onSelect:e=>e.preventDefault(),children:[(0,s.jsx)("span",{className:"text-v0-gray-1000",children:"Gifted credits"}),(0,s.jsx)("span",{className:"text-v0-gray-900 font-medium",children:l.toFixed(2)})]}),(0,s.jsxs)(a.DropdownMenuItem,{className:"justify-between text-sm",onSelect:e=>e.preventDefault(),children:[(0,s.jsx)("span",{className:"text-v0-gray-1000",children:"Monthly credits"}),(0,s.jsx)("span",{className:"text-v0-gray-900 font-medium",children:i.toFixed(2)})]}),(0,s.jsxs)(a.DropdownMenuItem,{className:"justify-between text-sm",onSelect:e=>e.preventDefault(),children:[(0,s.jsx)("span",{className:"text-v0-gray-1000",children:"Purchased credits"}),(0,s.jsx)("span",{className:"text-v0-gray-900 font-medium",children:r.toFixed(2)})]})]}),(0,s.jsxs)(a.DropdownMenuGroup,{className:"pt-0 flex flex-col gap-1.5",children:[(0,s.jsx)(t.Button,{variant:"secondary",size:"sm",className:"flex w-full rounded-md h-7",onClick:()=>{(0,z.openDialog)({type:"redeemCode"})},children:"Redeem Code"}),(0,s.jsx)(t.Button,{variant:"default",size:"sm",className:"flex w-full rounded-md h-7",onClick:()=>{c?(0,z.openDialog)({type:"buyMoreCredits",data:{onSuccess:o,role:e.role}}):(0,z.openDialog)({type:"upgradePlan",data:{planSlug:"v0-level3",customTitle:"Upgrade your plan to buy more credits"}})},children:"Buy Credits"})]})]})]})}let X=(0,r.withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM6 6H8.75C8.80246 6 8.85417 6.00323 8.90493 6.00951L6.00951 8.90493C6.00323 8.85417 6 8.80246 6 8.75V6ZM10 10H11.5V7.25C11.5 5.73122 10.2688 4.5 8.75 4.5H6V6H4.5L4.5 8.75C4.5 10.2688 5.73122 11.5 7.25 11.5H10V10ZM7.05144 9.98432L9.98432 7.05144C9.99464 7.11611 10 7.18243 10 7.25V10H7.25C7.18243 10 7.11611 9.99464 7.05144 9.98432Z" fill="currentColor"/>');function ee({onClick:e}){let{planInfo:t,isLoading:l}=(0,$.useTokenBillingPlanInfo)(),i=(0,n.useMemo)(()=>{if(t)return Math.ceil(Math.abs(t.billingCycle.end-Date.now())/864e5)},[t]);if(l)return(0,s.jsx)(K,{});if(!t)return null;let r=t.plan,d="v0-level0"===r,c="v0-enterprise"!==r,o=q(t),u=t.balance.remaining-o,m=t.onDemand.balance;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(j.MenuGroup,{children:[(0,s.jsx)(j.MenuLabel,{children:"Credit Balance"}),c?(0,s.jsx)(j.LinkMenuItem,{className:"font-medium text-v0-gray-900",label:"Gifted credits",href:"/chat/settings/billing",onClick:()=>e(!1),children:o.toFixed(2)}):null,(0,s.jsx)(j.LinkMenuItem,{className:"font-medium text-v0-gray-900",label:"Monthly credits",href:"/chat/settings/billing",onClick:()=>e(!1),children:u.toFixed(2)}),d?null:(0,s.jsx)(j.LinkMenuItem,{className:"font-medium text-v0-gray-900",label:"Purchased credits",href:"/chat/settings/billing",onClick:()=>e(!1),children:m.toFixed(2)}),(0,s.jsx)(es,{plan:r,monthly:u,payAsYouGo:m,daysRemaining:i})]}),(0,s.jsx)(a.DropdownMenuSeparator,{})]})}function es({plan:e,monthly:n,payAsYouGo:a,daysRemaining:t}){return"v0-level0"===e?(0,s.jsx)(el,{}):n<=1&&void 0!==a&&a>.01?(0,s.jsx)(et,{}):n<("v0-enterprise"===e?5:.25*Z[e].credits)&&t&&"number"==typeof a?(0,s.jsx)(ea,{daysRemaining:t}):null}e.s(["HeaderCreditsButton",()=>J,"getDailyCreditsBalance",()=>q],670786);let en=({variant:e,children:n})=>(0,s.jsx)("div",{className:(0,f.cn)("mt-1 rounded-lg p-2","amber"===e?"bg-v0-amber-200":"bg-v0-blue-200"),children:(0,s.jsx)("p",{className:(0,f.cn)("font-sm text-sm [&_a]:font-medium [&_a]:underline [&_button]:font-medium [&_button]:underline","amber"===e?"text-v0-amber-900":"text-v0-blue-900"),children:n})});function ea({daysRemaining:e}){let{needsToRequestCredits:n}=(0,W.useCanBuyCredits)({});return(0,s.jsxs)(en,{variant:"amber",children:["Your monthly credits will reset in ",e," ",1===e?"day":"days","."," ",(0,s.jsx)(Q.Tooltip,{content:n?"You do not have permission to purchase credits. Please contact your administrator.":void 0,children:(0,s.jsx)("button",{disabled:n,onClick:()=>(0,z.openDialog)({type:"buyMoreCredits",data:{onSuccess:()=>{}}}),children:"Buy more credits"})})]})}function et(){return(0,s.jsxs)(en,{variant:"blue",children:["You're now using your pay as you go credits."," ",(0,s.jsx)(_.default,{href:"/chat/settings/billing",children:"Buy more credits"})]})}function el(){return(0,s.jsxs)(en,{variant:"blue",children:["Upgrade your plan to buy more credits."," ",(0,s.jsx)(t.Button,{className:"text-v0-blue-900 underline underline-offset-1",onClick:()=>(0,z.openDialog)({type:"upgradePlan"}),variant:"link",children:"Upgrade plan"})]})}var ei=e.i(242759),er=e.i(696871),ed=e.i(206037),ec=e.i(676069),eo=e.i(136387),eu=e.i(794593);function em({className:e}){let{activeScope:n}=(0,y.useActiveScope)(),{planInfo:a,planSlug:t}=(0,ed.usePlanInfo)(!0,n?.id),l=(0,ec.getPaymentStatus)(a),i=l?.openInvoices[0]?.url;return a&&i&&t&&"v0-level0"!==t&&"paid"!==l.status&&"processing"!==l.status&&"pending"!==l.status?(0,s.jsx)(_.default,{href:i,children:(0,s.jsx)(eu.Badge,{variant:"red",prefix:(0,s.jsx)(eo.Warning,{}),children:"Payment Failed"})}):null}var eh=e.i(574768),ex=e.i(235009),ep=e.i(763480),eg=e.i(707974),ev=e.i(338157),ef=(0,p.createServerReference)("400afa9180cc5aa6cdb2b140f53a59eb0f80000709",p.callServer,void 0,p.findSourceMapURL,"creditAction"),ej=(0,p.createServerReference)("409b20ffe7005912d3ea042bedf6292c2657523de2",p.callServer,void 0,p.findSourceMapURL,"debitAction"),eb=e.i(707827);e.i(563948);var eC=e.i(407562);function eN(){let[e,a]=(0,n.useState)("debit"),[l,i]=(0,n.useState)("1"),[r,d]=(0,n.useState)("1000"),[c,o]=(0,n.useState)("onDemand"),[u,m]=(0,n.useState)(!1),[h,x]=(0,n.useState)(!1),[p,g]=(0,n.useState)(new Date().toISOString().slice(0,16)),[v,f]=(0,n.useState)(new Date(Date.now()+2592e6).toISOString().slice(0,16)),{mutate:j,planInfo:b,isLoading:C}=(0,$.useTokenBillingPlanInfo)({refreshInterval:1e3});return C?(0,s.jsxs)("div",{className:"animate-pulse space-y-3 p-3",children:[(0,s.jsx)("div",{className:"h-4 bg-v0-gray-200 rounded-md w-24"}),(0,s.jsx)("div",{className:"h-6 bg-v0-gray-200 rounded-md w-16"}),(0,s.jsx)("div",{className:"h-8 bg-v0-gray-200 rounded-md w-32"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col justify-center p-3 border-b border-v0-alpha-400 gap-2",children:[(0,s.jsxs)(eg.Label,{className:"text-sm flex justify-between",children:[(0,s.jsx)("span",{className:"text-v0-gray-1000 font-normal",children:"Plan"}),(0,s.jsx)("span",{className:"font-medium",children:b?.plan??(0,s.jsx)("span",{children:"N/A"})})]}),(0,s.jsxs)(eg.Label,{className:"text-sm font-medium flex justify-between",children:[(0,s.jsx)("span",{className:"text-v0-gray-1000 font-normal",children:"Monthly credits"}),(0,s.jsxs)("span",{className:"font-medium",children:[b?.balance.remaining.toFixed(2)??(0,s.jsx)("span",{children:"N/A"}),(0,s.jsxs)("span",{children:["/",b?.balance.total??(0,s.jsx)("span",{children:"N/A"})]})]})]}),(0,s.jsxs)(eg.Label,{className:"text-sm font-medium flex justify-between",children:[(0,s.jsx)("span",{className:"text-v0-gray-1000 font-normal",children:"Purchased credits"}),(0,s.jsx)("span",{className:"font-medium",children:b?.onDemand.balance.toFixed(2)??(0,s.jsx)("span",{children:"N/A"})})]})]}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("div",{className:"px-3 pt-3",children:(0,s.jsxs)(ex.TabsToggle,{value:e,onValueChange:h?void 0:a,className:"w-full",children:[(0,s.jsx)(ex.TabsToggleTrigger,{value:"debit",className:"w-full",disabled:h,children:"Debit"}),(0,s.jsx)(ex.TabsToggleTrigger,{value:"credit",className:"w-full",disabled:h,children:"Credit"})]})}),"debit"===e&&(0,s.jsxs)("div",{className:"space-y-3 py-3 px-3",children:[(0,s.jsx)(ew,{value:c,onChange:e=>o(e)}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(ep.Input,{label:"Amount",className:"rounded-md h-7",id:"debit-amount",type:"number",value:l,onChange:e=>i(e.target.value),placeholder:"onDemand"===c?"Enter on-demand credit amount":"Enter plan credit amount"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(I.Switch,{id:"allow-overdraft",checked:u,onCheckedChange:m}),(0,s.jsx)(eg.Label,{htmlFor:"allow-overdraft",children:"Allow Overdraft"})]}),(0,s.jsx)(t.Button,{size:"sm",variant:"destructive",onClick:()=>ey(()=>ej({amount:l,allowOverdraft:u}),"Debit successful",x,j),disabled:h,className:"rounded-md w-full",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eb.Spinner,{className:"!size-4"}),"Processing"]}):"Debit Credits"})]}),"credit"===e&&(0,s.jsxs)("div",{className:"space-y-3 py-3 px-3",children:[(0,s.jsx)(ew,{value:c,onChange:e=>o(e)}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(ep.Input,{label:"Amount",className:"rounded-md h-7",id:"credit-amount",type:"number",value:r,onChange:e=>d(e.target.value),placeholder:"Enter credit amount"})}),"plan"===c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(ep.Input,{label:"Effective Date",className:"rounded-md h-7",id:"effective-date",type:"datetime-local",value:p,onChange:e=>g(e.target.value)})}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(ep.Input,{label:"Expiration Date",className:"rounded-md h-7",id:"expiration-date",type:"datetime-local",value:v,onChange:e=>f(e.target.value)})})]}),(0,s.jsx)(t.Button,{size:"sm",onClick:()=>ey(()=>ef({amount:r,type:c,effectiveDate:"plan"===c?p:void 0,expirationDate:"plan"===c?v:void 0}),`${"onDemand"===c?"On-Demand":"Plan"} credit successful`,x,j),disabled:h,className:"rounded-md w-full bg-v0-blue-700 text-[#FFFFFF] hover:bg-v0-blue-700",variant:"ghost",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eb.Spinner,{className:"!size-4"}),"Processing"]}):(0,s.jsx)("span",{children:"onDemand"===c?"Add On-demand Credits":"Add Plan Credits"})})]})]})]})}let ey=async(e,s,n,a)=>{n(!0);try{let n=await e();n.success?eC.toast.success(s):eC.toast.error(`${s.split(" ")[0]} failed. Error: ${JSON.stringify(n)}`)}catch(e){eC.toast.error(`Error occurred while ${s.toLowerCase()}`)}finally{await a(),n(!1)}},ew=({value:e,onChange:n})=>(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)(eg.Label,{className:"text-v0-gray-900 font-medium",children:"Credit Type"}),(0,s.jsxs)(ev.RadioGroup,{className:"flex flex-col gap-3",value:e,onValueChange:n,children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ev.RadioGroupItem,{value:"onDemand",id:"onDemand"}),(0,s.jsx)(eg.Label,{className:"text-v0-gray-1000",htmlFor:"onDemand",children:"Purchased/on-demand credits"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ev.RadioGroupItem,{value:"plan",id:"plan"}),(0,s.jsx)(eg.Label,{className:"text-v0-gray-1000",htmlFor:"plan",children:"Monthly/included credits"})]})]})]});function eM({className:e,...r}){let p=(0,i.useT)(),[w,M]=(0,n.useState)(!1),S=(0,U.useIsChatPage)(),{tbb:L,profpe:k}=(0,ei.useFlags)(),D=(0,n.useRef)(null),{activeScope:I,user:B}=(0,y.useActiveScope)(),T=(0,N.isUserScope)(I),A=(0,n.useCallback)(()=>{(0,z.openDialog)({type:"upgradePlan"}),M(!1)},[]);if(!B)return(0,s.jsx)(l.Skeleton,{className:"m-0.5 size-6 rounded-full"});let F=T&&"v0-level0"===B.v0plan,P=B.isAdminMode;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(em,{className:S?"@[60rem]/chat-header:[&_.non-payment-text]:block @[60rem]/chat-header:w-auto w-7 [&_.non-payment-text]:hidden":void 0}),P?(0,s.jsx)("div",{className:"px-2 text-label-14 h-7 font-medium rounded-md bg-v0-blue-300 text-v0-blue-900 flex items-center justify-center",title:"Admin Mode Active",children:"Admin"}):null,"test"===B.billingMode?(0,s.jsxs)(eh.Popover,{children:[(0,s.jsx)(eh.PopoverTrigger,{asChild:!0,children:(0,s.jsx)(t.Button,{className:"size-7 rounded-md bg-[#1FA572] hover:bg-[#1B9365]",variant:"ghost",tooltip:"Stripe test mode tools (internal)",tooltipDirection:"bottom",children:(0,s.jsx)(eS,{className:"!size-3.5 shrink-0 text-[#FFFFFF]"})})}),(0,s.jsx)(eh.PopoverContent,{className:"w-64",align:"end",children:(0,s.jsx)(eN,{})})]}):null,(0,s.jsxs)(a.DropdownMenu,{open:w,onOpenChange:M,children:[(0,s.jsx)(a.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(t.Button,{ref:D,className:(0,f.cn)("hover:bg-v0-alpha-400 focus:bg-v0-alpha-400 size-fit border-0 p-0.5",w&&"bg-v0-alpha-400",P&&"bg-v0-blue-200 ring-2 ring-v0-blue-700 hover:bg-blue-600/50 hover:ring-v0-blue-1000 focus:bg-blue-600/50 focus:ring-v0-blue-1000",e),"data-testid":"user-menu-toggle",rounded:!0,variant:"ghost",...r,children:(0,s.jsx)(v.AvatarUser,{avatarSha:B.avatarSha,userId:B.id,className:"size-6",rounded:!0})})}),(0,s.jsxs)(a.DropdownMenuContent,{onCloseAutoFocus:e=>{e.preventDefault()},onEscapeKeyDown:()=>{M(!1),D.current?.focus()},align:"end",className:"max-h-[calc(100vh-90px)] w-[250px] overflow-y-auto",side:"top",sideOffset:8,children:[(0,s.jsx)(j.MenuGroup,{children:(0,s.jsx)("div",{className:"h-11 content-center px-1.5",children:(0,s.jsx)(C.ScopeItemContent,{scope:B,user:B,showEmail:!0,showName:!0,showAvatar:!1})})}),F&&!L?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.DropdownMenuSeparator,{}),(0,s.jsx)(j.MenuGroup,{children:(0,s.jsx)(E,{})})]}):null,(0,s.jsx)(a.DropdownMenuSeparator,{}),(0,s.jsxs)(j.MenuGroup,{children:[k&&(0,s.jsx)(j.LinkMenuItem,{label:p("sidebar.userMenu.profile"),Icon:(0,s.jsx)(x.User,{}),href:`/@${B.username}`,onClick:()=>{M(!1)}}),(0,s.jsx)(j.LinkMenuItem,{label:p("sidebar.scopeSwitcher.settings"),Icon:(0,s.jsx)(c.SettingsGear,{}),href:"/chat/settings",onClick:()=>{M(!1)}}),(0,s.jsx)(j.LinkMenuItem,{label:p("sidebar.userMenu.pricing"),Icon:(0,s.jsx)(m,{}),href:"/pricing",external:!0}),(0,s.jsx)(j.LinkMenuItem,{label:p("sidebar.userMenu.documentation"),Icon:(0,s.jsx)(u.BookOpen,{}),href:"/docs",external:!0}),(0,s.jsx)(j.LinkMenuItem,{label:p("sidebar.userMenu.communityForum"),external:!0,className:"group",Icon:(0,s.jsx)(h.Users,{className:"[&_path]:fill-gray-500 [&_path]:group-hover:fill-gray-900"}),href:er.VERCEL_COMMUNITY_V0_SECTION_URL}),S?(0,s.jsx)(j.MenuItem,{onSelect:()=>(0,z.openDialog)({type:"feedback"}),children:(0,s.jsx)(j.MenuItemContent,{label:p("sidebar.userMenu.feedback"),Icon:(0,s.jsx)(o.Question,{})})}):null]}),(0,s.jsx)(a.DropdownMenuSeparator,{}),L?(0,s.jsx)(ee,{onClick:M}):null,(0,s.jsx)(H,{}),(0,s.jsx)(a.DropdownMenuSeparator,{}),(0,s.jsx)(j.MenuGroup,{children:(0,s.jsx)(j.ActionMenuItem,{label:p("sidebar.scopeSwitcher.signOut"),Icon:(0,s.jsx)(d,{}),action:g})}),F&&!L?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.DropdownMenuSeparator,{}),(0,s.jsx)(j.MenuGroup,{children:(0,s.jsx)(b.DropdownMenuItem,{asChild:!0,children:(0,s.jsx)(t.Button,{size:"sm",className:"focus:ring-0 focus-visible:ring-0",onClick:A,"data-testid":"upgrade-cta-button",children:p("sidebar.scopeSwitcher.upgradeToPremium")})})})]}):null]})]})]})}let eS=({className:e,...n})=>(0,s.jsx)("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.87023 4.76483C6.87023 4.07912 7.43286 3.81539 8.36473 3.81539C9.701 3.81539 11.3889 4.21978 12.7252 4.94066V0.808791C11.2658 0.228571 9.82407 0 8.36473 0C4.7955 0 2.42188 1.86374 2.42188 4.97582C2.42188 9.82857 9.10319 9.05494 9.10319 11.1473C9.10319 11.956 8.3999 12.2198 7.41528 12.2198C5.95594 12.2198 4.0922 11.622 2.61528 10.8132V14.9978C4.25045 15.7011 5.90319 16 7.41528 16C11.0724 16 13.5867 14.189 13.5867 11.0418C13.5691 5.8022 6.87023 6.73407 6.87023 4.76483Z",fill:"currentColor"})});function eL({className:e,icon:a=!1,...l}){let r=(0,i.useT)(),d=(0,n.useCallback)(()=>{(0,z.openDialog)({type:"feedback"})},[]);return(0,s.jsx)(t.Button,{variant:a?"ghost":"secondary",className:(0,f.cn)("rounded-md",a?"size-7 text-v0-gray-900":"hidden h-7 sm:flex px-2",e),size:"sm",onClick:d,...l,children:a?(0,s.jsx)(o.Question,{}):r("sidebar.userMenu.feedback")})}(0,r.withNewIcon)(`
<path d="M8 1L16 15H0L8 1ZM10.6514 12.9092C10.4165 13.144 10.1579 13.3405 9.88379 13.5H13.415L12.1943 11.3652L10.6514 12.9092ZM2.58496 13.5H6.11621C5.84208 13.3405 5.58348 13.144 5.34863 12.9092L3.80469 11.3652L2.58496 13.5ZM9.59082 8.15137C8.71219 7.27303 7.28779 7.27299 6.40918 8.15137L4.61719 9.94238L4.5752 10.0146L6.40918 11.8486C7.28779 12.7271 8.71218 12.727 9.59082 11.8486L11.4238 10.0146L11.3818 9.94238L9.59082 8.15137ZM8 9C8.55228 9 9 9.44772 9 10C9 10.5523 8.55228 11 8 11C7.44772 11 7 10.5523 7 10C7 9.44772 7.44772 9 8 9ZM6.75293 6.20508C7.55818 5.92184 8.44078 5.92206 9.24609 6.20508L8 4.02344L6.75293 6.20508Z" fill="currentColor"/>
`),e.s(["HeaderUserMenu",()=>eM],805214),e.s(["HeaderFeedbackButton",()=>eL],396211);var ek=e.i(254211),eD=e.i(53223),eI=e.i(675120);function eB({className:e,transitionJustify:a="end",...l}){let r=(0,i.useT)(),{showUpgrade:d}=function(){let{activeScope:e,user:s}=(0,y.useActiveScope)(),a=(0,N.isUserScope)(e)&&s?.v0plan==="v0-level0",t=(0,ek.getDurableRootAtoms)("root"),[l,i]=(0,B.useAtom)(t.shouldShowUpgrade);return(0,n.useEffect)(()=>{e&&i(a)},[e,a,i]),{showUpgrade:l}}(),c=(0,n.useCallback)(()=>{(0,eD.track)("ClickHeaderUpgradeButton"),(0,z.openDialog)({type:"upgradePlan"})},[]);return(0,s.jsx)(eI.TransitionNode,{justify:a,delay:.2,duration:.4,renderKey:`${d}`,children:d?(0,s.jsx)(t.Button,{variant:"secondary",className:(0,f.cn)("rounded-md h-7 hidden sm:flex px-2",e),size:"sm",onClick:c,...l,children:r("promptForm.upgradePlanMobile")}):null})}e.s(["HeaderUpgradeButton",()=>eB],948288);var eT=e.i(848751),eH=e.i(903785),eA=e.i(726718),eF=e.i(32170);function eP({className:e}){let a=(0,eT.usePathname)(),t=(0,eA.getTopLevelPathFromPathname)(a),{expectUser:l}=(0,eF.useUser)(),r=(0,i.useT)(),d=(0,n.useMemo)(()=>{if(!t)return;let e=eA.PATHS_TO_TITLE.get(t);return e?r(e):void 0},[t,r]),c=(0,n.useMemo)(()=>l?(0,s.jsx)(eH.NewChatButton,{variant:"logo-sm",className:(0,f.cn)("sm:hidden",e),disabled:!1}):null,[l,e]);return"string"==typeof d?(0,s.jsx)("div",{className:(0,f.cn)("text-base font-medium sm:hidden",e),children:d}):c}e.s(["HeaderTitle",()=>eP],876961)},218234,863323,e=>{"use strict";var s=e.i(672042),n=e.i(304649),a=e.i(903785),t=e.i(32170),l=e.i(275215);function i({preventPeek:e=!1,className:i,...r}){let{expectUser:d}=(0,t.useUser)(),{actions:{startPeeking:c,stopPeeking:o,stopPeekingForced:u}}=(0,l.useCurrentSidebar)();return d?(0,s.jsx)("div",{onMouseEnter:e?void 0:c,onMouseLeave:e?void 0:o,className:(0,n.cn)("flex",i),children:(0,s.jsx)(a.NewChatButton,{onClick:()=>u({onlyOnCollapsed:!0}),variant:"v3-logo",className:"border-0",disabled:!1,...r})}):null}e.s(["HeaderLogoButton",()=>i],218234);var r=e.i(417860),d=e.i(176248),c=e.i(322774);function o({className:e,...l}){let{setSheetOpen:i}=(0,r.useChatSidebar)(),{expectUser:o}=(0,t.useUser)();return o?(0,s.jsxs)(d.Button,{className:(0,n.cn)("size-7 rounded-md sm:hidden",e),size:"sm",variant:"ghost",id:"sidebar-trigger",onClick:()=>i(!0),...l,children:[(0,s.jsx)(c.AlignmentLeft,{className:"size-4 shrink-0"}),(0,s.jsx)("span",{className:"sr-only",children:"Show Menu"})]}):(0,s.jsx)(a.NewChatButton,{variant:"logo-sm",className:e})}e.s(["HeaderSidebarMobileTrigger",()=>o],863323)},990009,969190,e=>{"use strict";var s=e.i(672042),n=e.i(243494),a=e.i(32170),t=e.i(805214),l=e.i(396211),i=e.i(948288),r=e.i(670786),d=e.i(695610),c=e.i(876961),o=e.i(903785),u=e.i(726718),m=e.i(848751),h=e.i(218234),x=e.i(863323),p=e.i(973817);function g(){return(0,s.jsx)("div",{className:"bg-v0-amber-200 rounded-lg px-3 py-1",children:(0,s.jsx)("p",{className:"text-sm font-medium text-center",children:"This is a read-only service account. You will not be able to make changes to user data. All actions will be logged."})})}e.s(["ImpersonationBanner",()=>g],969190);var v=e.i(683405);let f=[{href:"/templates",label:"Templates"},{href:"/enterprise",label:"Enterprise"},{href:"/pricing",label:"Pricing"},{href:"/ios",label:"iOS"},{href:"/students",label:"Students"},{href:"/faq",label:"FAQ",openInNewTab:!0}],j=["/enterprise","/ios","/ambassador","/students"],b=["/docs","/faq"],C=["/chat","/pricing","/templates"];var N=e.i(255706);function y(){let e,{expectUser:C,user:y}=(0,a.useUser)(),M=(0,m.usePathname)(),S=(0,u.isHome)(M),L=M.startsWith("/user/"),k=M.split("/").pop(),{actions:D}=(0,n.useChatAuthButtons)(),I=(0,N.useIsDesignSystemsEditorPage)(),B=y?.isImpersonation;return I?null:(0,s.jsxs)(w,{children:[(0,s.jsxs)("div",{className:"flex min-w-0 items-center",children:[(0,s.jsx)(x.HeaderSidebarMobileTrigger,{className:"mr-1"}),C||!S?(0,s.jsx)(p.HeaderSlash,{className:"mr-1 sm:hidden"}):null,(0,s.jsx)(h.HeaderLogoButton,{preventPeek:!0,className:"mr-1 hidden sm:flex"}),(0,s.jsx)(c.HeaderTitle,{className:"ml-1"}),C&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.HeaderSlash,{className:"hidden sm:block"}),(0,s.jsx)(d.ScopeSwitcher,{className:"hidden sm:flex",variant:"header"})]}),!C&&L&&(0,s.jsxs)("div",{className:"ml-1 flex items-center gap-1",children:[(0,s.jsx)(p.HeaderSlash,{className:"hidden sm:block"}),(0,s.jsx)("span",{className:"text-sm font-medium text-v0-gray-1000",children:k})]})]}),B&&(0,s.jsx)(g,{}),C?(0,s.jsxs)("div",{className:"flex flex-1 items-center justify-end gap-1.5",children:[(0,s.jsx)(i.HeaderUpgradeButton,{}),(0,s.jsx)(l.HeaderFeedbackButton,{}),(0,s.jsx)(r.HeaderCreditsButton,{}),!S&&(0,s.jsx)(o.NewChatButton,{className:"sm:hidden",variant:"pencil"}),(0,s.jsx)(t.HeaderUserMenu,{})]}):(0,s.jsx)(v.LoggedOutNavigation,{config:{items:(e=[],e=[...j,...b],f.map(s=>s.href&&e.some(e=>e.includes(s.href??"*"))?{...s,external:!0}:s)),actions:D}})]})}function w({children:e}){return(0,s.jsx)("header",{className:"@container/chat-header relative z-20 flex w-full shrink-0 items-center justify-between gap-2 px-3 h-[50px] sm:px-2",children:e})}e.s(["BaseHeaderWrapper",()=>w,"Header",()=>y],990009)}]);