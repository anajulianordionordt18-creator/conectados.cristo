(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,517889,e=>{"use strict";var t=e.i(672042),r=e.i(176248),s=e.i(686832),i=e.i(418625),a=e.i(88139),n=(0,a.createServerReference)("407854816e35bbc66d0245e5e4e4d1b7ff8281bd1c",a.callServer,void 0,a.findSourceMapURL,"deleteProjectAction"),l=e.i(211976);e.i(563948);var o=e.i(407562),d=e.i(53223),c=e.i(848751),u=e.i(120485);function h(){let[e,i]=j(),a=(0,c.useRouter)(),h=(0,c.usePathname)();return(0,t.jsx)(s.Modal,{onOpenChange:e=>!e&&i(null),open:!!e,children:(0,t.jsxs)("form",{action:async()=>{if(e)try{let t=await n(e.projectId);if(!0===t)i(null),(0,d.track)("ClickDeleteProject",{targetProjectId:e.projectId,projectName:e.projectName}),o.toast.success("Project deleted"),h.startsWith(`/chat/projects/${e.projectId}`)&&a.push("/chat/projects");else throw Error(t.error)}catch(e){(0,u.handleChatError)(e)||o.toast.error("Failed to delete project")}},children:[(0,t.jsxs)(s.ModalHeader,{children:[(0,t.jsx)(s.ModalTitle,{children:"Delete Project"}),(0,t.jsxs)(s.ModalDescription,{children:["Are you sure you want to delete this project? All chats will be removed from the project, but they wonâ€™t be deleted."," ",(0,t.jsx)("span",{className:"font-medium",children:"This action cannot be reversed."})]})]}),(0,t.jsxs)(s.ModalFooter,{children:[(0,t.jsx)(s.ModalClose,{asChild:!0,children:(0,t.jsx)(r.Button,{onClick:()=>i(null),size:"sm",variant:"secondary",children:"Cancel"})}),(0,t.jsx)(l.FormSpinnerButton,{"data-testid":"delete-project-button",size:"sm",variant:"destructive",children:"Delete"})]})]})})}function j(){let{data:e,mutate:t}=(0,i.default)("showDeleteProjectModal",null);return[e,t]}e.s(["default",()=>h,"useDeleteProjectModal",()=>j],517889)},644026,e=>{"use strict";var t=e.i(672042),r=e.i(176248),s=e.i(686832),i=e.i(418625),a=e.i(211976),n=e.i(763480),l=e.i(423746);e.i(563948);var o=e.i(407562),d=e.i(53223),c=e.i(36746),u=e.i(120485),h=e.i(848751),j=e.i(183673);function p(){let{projectId:e,projectName:i,setProject:p}=x(),{updateProjectName:m}=(0,j.useProjectName)(),[b,S]=(0,l.useState)(i||""),f=(0,h.useRouter)();return((0,l.useEffect)(()=>{S(i||"")},[i]),e)?(0,t.jsx)(s.Modal,{onOpenChange:e=>!e&&p(null),open:!0,children:(0,t.jsxs)("form",{action:async()=>{(0,d.track)("ClickRenameProject",{targetProjectId:e,oldProjectName:i??"project-name-missing"});try{m(b);let t=await (0,c.renameProject)({projectId:e,name:b});if("success"in t)o.toast.success("Renamed project");else if(t.error)throw m(i||""),Error(t.error)}catch(e){(0,u.handleChatError)(e,f,"Failed to rename project")||o.toast.error("Failed to rename project")}await p(null)},"data-testid":"rename-project-form",children:[(0,t.jsxs)(s.ModalHeader,{children:[(0,t.jsx)(s.ModalTitle,{children:"Rename Project"}),(0,t.jsx)(n.Input,{autoFocus:!0,"data-testid":"rename-project-input",maxLength:100,onChange:e=>S(e.target.value),value:b})]}),(0,t.jsxs)(s.ModalFooter,{children:[(0,t.jsx)(s.ModalClose,{asChild:!0,children:(0,t.jsx)(r.Button,{onClick:()=>p(null),size:"sm",variant:"secondary",children:"Cancel"})}),(0,t.jsx)(a.FormSpinnerButton,{"data-testid":"save-rename-project",size:"sm",variant:"default",children:"Save"})]})]})}):null}function x(){let{data:e,mutate:t}=(0,i.default)("renameProjectModal",null);return{projectId:e?.projectId,projectName:e?.projectName,setProject:t}}e.s(["default",()=>p,"useRenameProjectModal",()=>x])},724855,863653,458813,e=>{"use strict";var t=e.i(672042),r=e.i(176248),s=e.i(556355),i=e.i(801647),a=e.i(380403),n=e.i(937153),l=e.i(586770),o=e.i(582802),d=e.i(356026),c=e.i(227867),u=e.i(517889),h=e.i(644026);e.i(563948);var j=e.i(407562),p=e.i(183673),x=e.i(804851),m=e.i(53223),b=e.i(423746),S=e.i(304649),f=e.i(88139),g=(0,f.createServerReference)("409dc0e78ba9eed0aab889d7156ca9c06ea4a71139",f.callServer,void 0,f.findSourceMapURL,"favoriteProject");e.s(["favoriteProject",()=>g],863653);var v=(0,f.createServerReference)("40bc5bdcbee169ed808679bf4237295bf31e8a4eab",f.callServer,void 0,f.findSourceMapURL,"unfavoriteProject");e.s(["unfavoriteProject",()=>v],458813),e.i(472428);var C=e.i(296900),I=e.i(297239),M=e.i(387040);function L({project:e,canMakeProjectUpdates:f,className:L,disableFetchOnHover:k=!1,side:y="bottom",hideFavoriteButton:w=!1}){let[A,N]=(0,u.useDeleteProjectModal)(),{setProject:H}=(0,h.useRenameProjectModal)(),{vercelProjectWithDashboard:P,refetchVercelProject:V}=(0,p.useVercelProject)({v0ProjectId:e.projectId}),[R,D]=(0,b.useState)(!!e.favoritedAt),F=(0,I.useT)(),T=(0,b.useMemo)(()=>P?.project.url,[P]),E=async()=>{try{await navigator.clipboard.writeText(e.projectId),j.toast.success(F("projectMoreMenu.projectIdCopiedToClipboard"))}catch(e){console.error("Failed to copy project ID:",e),j.toast.error(F("projectMoreMenu.failedToCopyProjectId"))}},{data:z,mutate:B}=(0,C.useServerQuerySWR)(["scoped","projects"],{},{suspense:!0}),[O,K]=(0,b.useState)(!1),U=(0,b.useCallback)(async()=>{K(!0);let t=z.ok?z.value:[];if(R){(0,m.track)("UnfavoriteProject",{targetProjectId:e.projectId,projectName:e.name}),D(!1);let r=t.map(t=>t.projectId===e.projectId?{...t,favoritedAt:null}:t);await B({serverMutate:v(e.projectId).then(e=>{e.error&&j.toast.error(F("projectMoreMenu.failedToUnfavoriteProject"))}),optimisticData:(0,M.ok)((0,x.sortByDateKey)(r,"favoritedAt"))})}else{(0,m.track)("FavoriteProject",{targetProjectId:e.projectId,projectName:e.name}),D(!0);let r=t.some(t=>t.projectId===e.projectId)?t.map(t=>t.projectId===e.projectId?{...t,favoritedAt:new Date}:t):[...t,{...e,chatCount:0,sourceCount:0,favoritedAt:new Date}];await B({serverMutate:g(e.projectId).then(e=>{e.error&&j.toast.error(F("projectMoreMenu.failedToFavoriteProject"))}),optimisticData:(0,M.ok)((0,x.sortByDateKey)(r,"favoritedAt"))})}K(!1)},[R,B,e,z]);return(0,t.jsxs)(s.DropdownMenu,{children:[(0,t.jsx)(s.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(r.Button,{className:(0,S.cn)("size-7 rounded-md",L),"cmdk-item-actions":"","data-testid":"project-header-dropdown-button",size:"sm",variant:"ghost",onFocus:()=>{k||V()},onMouseEnter:()=>{k||V()},children:[(0,t.jsx)(i.MoreHorizontal,{}),(0,t.jsx)("span",{className:"sr-only",children:F("projectMoreMenu.openProjectActions")})]})}),(0,t.jsx)(s.DropdownMenuContent,{align:"bottom"===y?"end":"start",side:y,sideOffset:8,children:(0,t.jsxs)(s.DropdownMenuGroup,{children:[f&&(0,t.jsxs)(s.DropdownMenuItem,{"aria-label":"Rename project",onSelect:()=>H({projectId:e.projectId,projectName:e.name}),children:[(0,t.jsx)(a.PencilEdit,{}),(0,t.jsx)("span",{children:"Rename"})]}),(0,t.jsxs)(s.DropdownMenuItem,{onSelect:E,children:[(0,t.jsx)(l.Copy,{}),(0,t.jsx)("span",{children:F("projectMoreMenu.copyProjectId")})]}),w?null:(0,t.jsxs)(s.DropdownMenuItem,{variant:R?"gold":"default",disabled:O,onSelect:U,children:[R?(0,t.jsx)(c.StarFill,{}):(0,t.jsx)(d.Star,{}),(0,t.jsx)("span",{children:R?F("projectMoreMenu.unfavorite"):F("projectMoreMenu.favorite")})]}),(0,t.jsx)(s.DropdownMenuItem,{disabled:!T,asChild:!0,children:(0,t.jsxs)("a",{href:T,target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)(o.External,{}),(0,t.jsx)("span",{children:F("projectMoreMenu.viewOnVercel")})]})}),f&&(0,t.jsxs)(s.DropdownMenuItem,{onSelect:()=>N({projectId:e.projectId,projectName:e.name}),variant:"destructive",children:[(0,t.jsx)(n.Trash,{}),(0,t.jsx)("span",{children:"Delete"})]})]})})]})}e.s(["SuspendingProjectMoreMenu",()=>L],724855)},194136,e=>{"use strict";let t=(0,e.i(991020).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6.5 5.5C6.5 3.29086 8.29086 1.5 10.5 1.5C12.7091 1.5 14.5 3.29086 14.5 5.5C14.5 7.70914 12.7091 9.5 10.5 9.5C10.0496 9.5 9.61798 9.42583 9.21589 9.28964L9.09885 9.25H8.97528H8H7.25V10V12.25H5.75H5V13V14.5H1.5V11.5818L6.38022 7.14521L6.70674 6.84837L6.60585 6.41878C6.53673 6.12449 6.5 5.81702 6.5 5.5ZM10.5 0C7.46243 0 5 2.46243 5 5.5C5 5.77753 5.02062 6.05064 5.06048 6.31778L0.245495 10.695L0 10.9182V11.25V15.25V16H0.75H5.75H6.5V15.25V13.75H8H8.75V13V10.75H8.85639C9.37626 10.9126 9.92859 11 10.5 11C13.5376 11 16 8.53757 16 5.5C16 2.46243 13.5376 0 10.5 0ZM10.5 6.5C11.0523 6.5 11.5 6.05228 11.5 5.5C11.5 4.94772 11.0523 4.5 10.5 4.5C9.94771 4.5 9.5 4.94772 9.5 5.5C9.5 6.05228 9.94771 6.5 10.5 6.5Z" fill="currentColor"/>');e.s(["Key",0,t])},638541,e=>{"use strict";var t=e.i(753533),r=e.i(142219),s=e.i(9654);let i=(0,t.cacheResult)(null,()=>({isOpen:(0,s.atom)(!1),isLoaded:(0,s.atom)(!1)})),a=(0,t.cacheResult)(null,()=>({...i()}));function n(){let e=i();return{setIsOpen:t=>{r.store.set(e.isOpen,t),t&&r.store.set(e.isLoaded,!0)}}}e.s(["getCmdkActions",()=>n,"getCmdkAtoms",0,a])},121017,e=>{"use strict";var t=e.i(672042),r=e.i(304649),s=e.i(848751),i=e.i(32170),a=e.i(275215),n=e.i(393799),l=e.i(365290),o=e.i(423746),d=e.i(296046),c=e.i(534607);e.i(528517);var u=e.i(435106),h=e.i(142219),j=e.i(297239);function p({className:e,...s}){let{atoms:i,actions:l}=(0,a.useCurrentSidebar)(),{toggleSidebar:o}=l,d=(0,n.useAtomValue)(i.isCollapsed),c=(0,j.useT)();return(0,t.jsx)("button",{className:(0,r.cn)("absolute inset-y-0 right-[-4px] z-30 hidden w-[4px] transition-all after:absolute after:-inset-x-1.5 after:inset-y-0 after:opacity-20 hover:bg-v0-gray-300 sm:flex",e),style:{cursor:d?"e-resize":"w-resize"},"aria-label":c("sidebar.toggle"),tabIndex:-1,onPointerDown:o,...s})}var x=e.i(417860),m=e.i(176248),b=e.i(893464),S=e.i(187511),f=e.i(284492);function g({className:e,children:s,...i}){let{sheetOpen:a,setSheetOpen:n,actionChatId:l}=(0,x.useChatSidebar)();return(0,t.jsx)("aside",{...i,children:(0,t.jsx)(S.Sheet,{onOpenChange:e=>{if(!l)return n(e)},open:a,...i,children:(0,t.jsxs)(S.SheetContent,{side:"left",onEscapeKeyDown:()=>document.getElementById("sidebar-trigger")?.focus(),showClose:!1,className:(0,r.cn)("bg-v0-background-200 mt-0 flex max-h-svh w-[300px] flex-col items-stretch gap-0 rounded-none p-0 sm:hidden",e),children:[(0,t.jsx)(S.SheetHeader,{className:"sr-only",children:(0,t.jsx)(S.SheetTitle,{className:"sr-only",children:"Menu"})}),(0,t.jsx)(f.SidebarHeader,{className:"absolute right-0 top-0 h-12 justify-center p-2",children:(0,t.jsx)(S.SheetClose,{asChild:!0,children:(0,t.jsxs)(m.Button,{className:"size-7 rounded-md",size:"sm",variant:"ghost",children:[(0,t.jsx)(b.Cross,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close Menu"})]})})}),s]})})})}var v=e.i(255706),C=e.i(127169),I=e.i(385671),M=e.i(566274);function L({className:e,children:j,...x}){let[m,b]=(0,o.useState)(!1),{expectUser:S}=(0,i.useUser)(),{fullScreenResult:f}=(0,M.useFullscreenResult)(),{lastInteract:L}=(0,u.getUserInputAtoms)(),{atoms:k,actions:y}=(0,a.useCurrentSidebar)(),{startPeeking:w,stopPeekingForced:A,stopPeekingAfterDelay:N,setCollapsedOverride:H,toggleSidebar:P,clearStartPeekingTimeout:V}=y,R=(0,n.useAtomValue)(k.isPeeking),D=(0,n.useAtomValue)(k.isVisible)&&!f,F=(0,n.useAtomValue)(k.isCollapsed),T=(0,n.useAtomValue)(k.renderRecoverHitArea),E=(0,n.useAtomValue)(k.openedDropdown),z=(0,I.getChatLayoutAtoms)(),B=(0,n.useAtomValue)(z.isInputPanelOpen),O=(0,n.useAtomValue)(z.isResizing),K=(0,d.useIsChatPage)(),U=(0,v.useIsDesignSystemsEditorPage)(),Z=(0,c.useMac)(),W=K||!F||U?U?"50px 0 16px 0":0:"44px 0 16px 0",Q=`\
    scale(${D?1:.99})
    translateX(${D?0:-242}px)`;(0,o.useEffect)(()=>{H(K||U)},[K,U,H]),(0,o.useEffect)(()=>{b(!0)},[]);let $=(0,s.usePathname)(),[_,G]=(0,o.useState)(!0);(0,o.useEffect)(()=>{G(!0);let e=setTimeout(()=>{G(!1)},500);return()=>clearTimeout(e)},[$]);let X=260*!_;if((0,C.useShortcut)(e=>{m&&"b"===e.key&&(Z?e.metaKey:e.ctrlKey)&&(e.preventDefault(),K||U?R?A():w():P()),"Escape"===e.key&&A()}),(K||U)&&!m||!S)return null;let q={onMouseEnter:()=>{let e=Date.now()-h.store.get(L);(R||e<200)&&w()},onMouseLeave:e=>{V(),e.clientX>30?N():R&&N({leavingScreen:!0})}},J={className:"fixed inset-0 hidden sm:block z-30","data-hit-area":!0},Y={...J,...q},ee=(0,t.jsxs)(t.Fragment,{children:[F&&K?(0,t.jsx)("div",{...Y,style:{width:8,height:38,top:0}}):null,F&&!K?(0,t.jsx)("div",{...Y,style:{width:20,height:28,top:54}}):null,!K&&F&&B&&!O?(0,t.jsx)("div",{...Y,style:{width:16,top:K?"20vh":80,bottom:K?"40dvh":"0"}}):null,R&&F?(0,t.jsx)("div",{...J,onMouseEnter:()=>{Date.now()-h.store.get(L)>200&&N()},style:{right:0,left:264+200*!!E,top:0,bottom:0}}):null,R&&F||T?(0,t.jsx)("div",{...Y,style:{width:R&&F?264+200*!!E:216,top:K?36:82}}):null,(0,t.jsx)("div",{inert:!D,style:{padding:W,zIndex:50,width:240*!F,...(0,l.transitionStyles)(["width","padding"],{duration:X})},className:(0,r.cn)("sticky top-0 hidden origin-left sm:block","sidebar peer",e),"data-fixed-sidebar":!0,children:(0,t.jsxs)("aside",{...q,"data-state":F?"collapsed":"expanded",className:(0,r.cn)("z-20 flex h-full flex-col rounded-lg rounded-l-none border border-l-0 border-transparent bg-none",F&&"material-large bg-v0-background-200 border-v0-alpha-400 overflow-visible",e),style:{width:240,transform:Q,...(0,l.transitionStyles)(["opacity","transform","border-color","background","box-shadow"],{duration:X})},...x,children:[j,K?null:(0,t.jsx)(p,{})]})})]});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{children:j}),ee]})}e.s(["SidebarShell",()=>L],121017)},678449,e=>{"use strict";var t=e.i(672042),r=e.i(284492),s=e.i(903785),i=e.i(417860),a=e.i(304649),n=e.i(275215);function l({className:e}){let{setSheetOpen:r}=(0,i.useChatSidebar)(),{actions:{stopPeekingForced:l}}=(0,n.useCurrentSidebar)();return(0,t.jsx)(s.NewChatButton,{className:(0,a.cn)(e),onButtonClick:()=>{l({onlyOnCollapsed:!0}),r(!1)},variant:"sidebar"})}var o=e.i(84908),d=e.i(489834),c=e.i(827050),u=e.i(916267),h=e.i(249776),j=e.i(297239);e.i(904347);var p=e.i(37737),x=e.i(638541),m=e.i(443265),b=e.i(534607),S=e.i(35036);function f({variant:e="default"}){let s=(0,j.useT)(),{setIsOpen:i}=(0,x.getCmdkActions)(),a=(0,b.useMac)(),n=(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsxs)(r.SidebarListItemButton,{onClick:()=>(0,p.openDialog)({type:"feedback"}),tooltip:s("sidebar.feedback"),children:[(0,t.jsx)(c.Question,{}),(0,t.jsx)("span",{children:s("sidebar.feedback")})]})});return(0,t.jsx)(r.SidebarListContainer,{children:(0,t.jsxs)(r.SidebarList,{children:[(0,t.jsx)(l,{className:"default"===e?"mb-2":"mb-1"}),(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsxs)(r.SidebarListItemButton,{onClick:()=>i(!0),className:"group",children:[(0,t.jsx)(u.MagnifyingGlass,{}),(0,t.jsx)("span",{children:"Search"}),(0,t.jsxs)(m.KbdGroup,{className:"ml-auto hidden opacity-0 transition-opacity group-hover:opacity-100 sm:flex",children:[(0,t.jsx)(m.Kbd,{children:a?"âŒ˜":"Ctrl"}),(0,t.jsx)(m.Kbd,{children:"K"})]})]})}),(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsxs)(r.SidebarListItemLink,{href:"/chat/projects",children:[(0,t.jsx)(h.FolderClosed,{}),(0,t.jsx)("span",{children:s("sidebar.projects")})]})}),(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsxs)(r.SidebarListItemLink,{href:"/chat/history",children:[(0,t.jsx)(o.Clock,{}),(0,t.jsx)("span",{children:s("sidebar.recents")})]})}),(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsxs)(r.SidebarListItemLink,{href:"/chat/design-systems",tooltip:s("sidebar.designSystems"),children:[(0,t.jsx)(S.DesignSystemsIcon,{}),(0,t.jsx)("span",{children:s("sidebar.designSystems")})]})}),(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsxs)(r.SidebarListItemLink,{href:"/templates",tooltip:s("sidebar.templates"),children:[(0,t.jsx)(d.Globe,{}),(0,t.jsx)("span",{children:s("sidebar.templates")})]})}),"popover"===e&&n]})})}e.s(["SidebarMainNav",()=>f],678449)},996534,e=>{"use strict";var t=e.i(672042),r=e.i(284492),s=e.i(740292),i=e.i(476171),a=e.i(423746),n=e.i(275215),l=e.i(393799),o=e.i(611010);e.i(472428);var d=e.i(296900),c=e.i(297239),u=e.i(667660),h=e.i(724855),j=e.i(306669),p=e.i(249776);function x(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(S,{}),children:(0,t.jsx)(m,{})})}function m(){let e,{data:l}=(0,d.useServerQuerySWR)(["scoped","chats"],{},{suspense:!0}),o=(0,a.useMemo)(()=>l.ok?l.value.favorites:[],[l]),x=(0,c.useT)(),{data:m}=(0,d.useServerQuerySWR)(["scoped","projects"],{},{suspense:!0}),{activeScope:S,user:f}=(0,u.useActiveScope)(),g=!!(S&&"membership"in S&&"OWNER"===S.membership.role),[v,C]=(0,a.useState)(10),I=(0,a.useMemo)(()=>o.map(e=>({kind:"chat",item:e})),[o]),M=(0,a.useMemo)(()=>(m.ok?m.value:[]).filter(e=>null!==e.favoritedAt).map(e=>({kind:"project",item:e})),[m]),L=(0,a.useMemo)(()=>[...M,...I],[M,I]),{actions:k}=(0,n.useCurrentSidebar)();(0,a.useEffect)(()=>{k.setSidebarFavoriteChatsAndProjectsSkeleton(Math.min(v,L.length))},[v,L.length,k]);let y=(0,a.useMemo)(()=>L.slice(0,v),[L,v]),w=Math.max(0,L.length-v);return e=o.length+M.length===0?(0,t.jsx)(r.SidebarEmptyState,{children:x("sidebar.favoriteChatsAndProjectsEmptyState")}):(0,t.jsxs)(t.Fragment,{children:[y.map(e=>{var a,n;let l,o,d;return"chat"===e.kind?(l=(a=e.item).title||"Untitled Chat",(0,t.jsxs)(r.SidebarListItem,{children:[(0,t.jsxs)(r.SidebarListItemLink,{href:`/chat/${(0,i.getSluggifiedId)(a.chatId,a.title)}`,prefetch:!1,children:[(0,t.jsx)(j.Message,{}),(0,t.jsx)("span",{title:l,children:l})]}),(0,t.jsx)(r.SidebarListItemAction,{children:(0,t.jsx)(s.SuspendingChatActions,{chat:a,side:"right",tooltip:{content:"",hidden:!0}})})]},a.chatId)):(o=(n=e.item).name||"Untitled Project",d=n.creatorId===f?.id,(0,t.jsxs)(r.SidebarListItem,{children:[(0,t.jsxs)(r.SidebarListItemLink,{href:`/chat/projects/${n.projectId}`,prefetch:!1,children:[(0,t.jsx)(p.FolderClosed,{}),(0,t.jsx)("span",{title:o,children:o})]}),(0,t.jsx)(r.SidebarListItemAction,{children:(0,t.jsx)(h.SuspendingProjectMoreMenu,{project:n,canMakeProjectUpdates:d||g,side:"right"})})]},n.projectId))}),w>0&&(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsx)(r.SidebarListItemButton,{onClick:()=>C(e=>e+5),className:"text-v0-gray-900",children:`(Show ${Math.min(5,w)} more)`})})]}),(0,t.jsx)(b,{children:(0,t.jsx)(r.SidebarList,{children:e})})}function b({children:e}){let{actions:s,atoms:i}=(0,n.useCurrentSidebar)(),a=(0,l.useAtomValue)(i.sidebarFavoriteChatsAndProjectsCollapsed),d=s.setSidebarFavoriteChatsAndProjectsCollapsed,u=(0,c.useT)();return(0,t.jsx)(r.SidebarListContainer,{children:(0,t.jsxs)(o.Collapsible,{className:"flex flex-col gap-0",open:a,onOpenChange:d,children:[(0,t.jsx)(o.CollapsibleTrigger,{asChild:!0,children:(0,t.jsx)(r.SidebarLabel,{open:a,children:u("sidebar.favoriteChatsAndProjects")})}),(0,t.jsx)(o.CollapsibleContent,{children:e})]})})}function S(){let{atoms:e}=(0,n.useCurrentSidebar)(),s=(0,l.useAtomValue)(e.sidebarFavoriteChatsAndProjectsSkeleton);return(0,t.jsx)(b,{children:(0,t.jsx)(r.SidebarListSkeleton,{length:s})})}e.s(["SidebarFavorites",()=>x])},887031,e=>{"use strict";var t=e.i(672042),r=e.i(284492),s=e.i(740292),i=e.i(476171),a=e.i(423746),n=e.i(941813),l=e.i(275215),o=e.i(393799),d=e.i(611010);e.i(472428);var c=e.i(296900),u=e.i(297239);function h({maxChats:e=n.MAX_RECENT_CHATS,noMoreMenu:r=!1,noActiveChat:s=!1}){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(x,{}),children:(0,t.jsx)(j,{maxChats:e,noMoreMenu:r,noActiveChat:s})})}function j({maxChats:e,noMoreMenu:n,noActiveChat:o}){let{data:d}=(0,c.useServerQuerySWR)(["scoped","chats"],{},{suspense:!0}),h=(0,a.useMemo)(()=>d.ok?d.value.history.slice(0,e):[],[d,e]),j=(0,u.useT)(),{actions:x}=(0,l.useCurrentSidebar)();(0,a.useEffect)(()=>{x.setSidebarRecentChatsSkeleton(h.length)},[h.length,x]);let m=(0,a.useMemo)(()=>h.length?(0,t.jsx)(t.Fragment,{children:h.map(e=>{let a=e.title||j("sidebar.untitledChat");return(0,t.jsxs)(r.SidebarListItem,{children:[(0,t.jsx)(r.SidebarListItemLink,{noActive:o,href:`/chat/${(0,i.getSluggifiedId)(e.chatId,e.title)}`,prefetch:!1,onMouseDownNavigate:!0,children:(0,t.jsx)("span",{title:a,children:a})}),n?null:(0,t.jsx)(r.SidebarListItemAction,{children:(0,t.jsx)(s.SuspendingChatActions,{chat:e,side:"right",tooltip:{content:"",hidden:!0}})})]},e.chatId)})}):(0,t.jsx)(r.SidebarEmptyState,{children:j("sidebar.recentEmptyState")}),[h,j,o,n]);return(0,t.jsx)(p,{children:(0,t.jsx)(r.SidebarList,{children:m})})}function p({children:e,className:s}){let{atoms:i,actions:a}=(0,l.useCurrentSidebar)(),n=(0,o.useAtomValue)(i.sidebarRecentChatsCollapsed),c=a.setSidebarRecentChatsCollapsed,h=(0,u.useT)();return(0,t.jsx)(r.SidebarListContainer,{className:s,children:(0,t.jsxs)(d.Collapsible,{className:"flex flex-col gap-0",open:!n,onOpenChange:e=>c(!e),children:[(0,t.jsx)(d.CollapsibleTrigger,{asChild:!0,children:(0,t.jsx)(r.SidebarLabel,{open:!n,children:h("sidebar.recent")})}),(0,t.jsx)(d.CollapsibleContent,{children:e})]})})}function x(){let{atoms:e}=(0,l.useCurrentSidebar)(),s=(0,o.useAtomValue)(e.sidebarRecentChatsSkeleton);return(0,t.jsx)(p,{className:"recents-skeleton",children:(0,t.jsx)(r.SidebarListSkeleton,{length:s})})}e.s(["SidebarRecents",()=>h,"SuspendingSidebarRecentsInner",()=>j])},375294,e=>{"use strict";var t=e.i(672042),r=e.i(162061),s=e.i(176248),i=e.i(423746),a=e.i(284492);e.i(472428);var n=e.i(296900);function l(){let[e,l]=(0,i.useState)(!0),{data:o}=(0,n.useServerQuerySWR)(["scoped","newFeatureBanner"],{},{revalidateNever:!0,suspense:!0}),d=o.ok&&o.value.newFeatureInfo?.visible&&o.value.lastClickedFeature!==o.value.newFeatureInfo.description,c=o.ok&&d?o.value.newFeatureInfo?.url:"",u=o.ok&&d?o.value.newFeatureInfo?.description:"",h=(0,i.useCallback)(()=>{u&&r.default.set("last-clicked-feature",u,{expires:30})},[u]);return e&&d?(0,t.jsxs)(a.SidebarFooter,{className:"relative hidden w-full pb-2 pt-1 sm:flex",children:[(0,t.jsx)("div",{className:"from-muted via-background/75 bg-linear-to-t pointer-events-none absolute -top-6 left-0 right-2 z-10 h-6"}),(0,t.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",onClick:h,className:"relative z-20 block h-fit w-full",children:(0,t.jsxs)("section",{className:"bg-v0-background-100 border-v0-alpha-400 drop-shadow-xs flex flex-col gap-1.5 rounded-lg border p-3 transition hover:-translate-y-0.5 hover:border-v0-gray-300 hover:drop-shadow-md",children:[(0,t.jsxs)("span",{className:"flex items-center justify-between text-v0-gray-900",children:[(0,t.jsx)("h5",{className:"text-[13px] font-medium",children:"New Feature"}),(0,t.jsx)("span",{className:"sr-only",children:"Learn more"}),(0,t.jsx)(s.Button,{tooltip:"Close",size:"xs",className:"size-5 rounded-sm text-v0-gray-900",variant:"ghost",onClick:e=>{e.preventDefault(),h(),l(!1)},children:(0,t.jsx)("span",{className:"text-lg",children:"Ã—"})})]}),(0,t.jsx)("p",{className:"text-sm",children:u})]})})]}):null}e.s(["SuspendingNewFeatureBanner",()=>l])},962658,e=>{"use strict";var t=e.i(672042),r=e.i(284492),s=e.i(49151),i=e.i(194136);let a=(0,e.i(991020).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 2.25C2.5 1.83579 2.83579 1.5 3.25 1.5H6.75C7.16421 1.5 7.5 1.83579 7.5 2.25V7.5V14.5H2.5V2.25ZM7.5 16H1.75H1V15.25V2.25C1 1.00736 2.00736 0 3.25 0H6.75C7.99264 0 9 1.00736 9 2.25V6.5H12.25C13.4926 6.5 14.5 7.50736 14.5 8.75V15.25V16H13.75H9H8.25H7.5ZM9 14.5H13V8.75C13 8.33579 12.6642 8 12.25 8H9V14.5ZM4.75 3.5H4V5H4.75H5.25H6V3.5H5.25H4.75ZM4 6.5H4.75H5.25H6V8H5.25H4.75H4V6.5ZM10.75 9.5H10V11H10.75H11.25H12V9.5H11.25H10.75ZM4 9.5H4.75H5.25H6V11H5.25H4.75H4V9.5Z" fill="currentColor"/>');var n=e.i(811539),l=e.i(455891),o=e.i(838317),d=e.i(336078),c=e.i(297239);function u(){let e=(0,c.useT)();return(0,t.jsxs)(r.SidebarContent,{children:[(0,t.jsxs)(r.SidebarListContainer,{children:[(0,t.jsx)(r.SidebarLabel,{children:e("sidebar.settings.account")}),(0,t.jsx)(r.SidebarList,{children:(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsxs)(r.SidebarListItemLink,{href:"/chat/settings/preferences",children:[(0,t.jsx)(n.SettingsSliders,{}),(0,t.jsx)("span",{children:e("sidebar.settings.preferences")})]})})})]}),(0,t.jsxs)(r.SidebarListContainer,{children:[(0,t.jsx)(r.SidebarLabel,{children:e("sidebar.settings.workspace")}),(0,t.jsxs)(r.SidebarList,{children:[(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsxs)(r.SidebarListItemLink,{href:"/chat/settings/workspace",children:[(0,t.jsx)(a,{}),(0,t.jsx)("span",{children:e("sidebar.settings.general")})]})}),(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsxs)(r.SidebarListItemLink,{href:"/chat/settings/billing",children:[(0,t.jsx)(s.CreditCard,{}),(0,t.jsx)("span",{children:e("sidebar.settings.billing")})]})}),(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsxs)(r.SidebarListItemLink,{href:"/chat/settings/members",children:[(0,t.jsx)(d.Users,{}),(0,t.jsx)("span",{children:e("sidebar.settings.members")})]})}),(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsxs)(r.SidebarListItemLink,{href:"/chat/settings/usage",children:[(0,t.jsx)(o.ChartActivity,{}),(0,t.jsx)("span",{children:e("sidebar.settings.usage")})]})}),(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsxs)(r.SidebarListItemLink,{href:"/chat/settings/keys",children:[(0,t.jsx)(i.Key,{}),(0,t.jsx)("span",{children:e("sidebar.settings.api_keys")})]})})]})]})]})}function h(){let e=(0,c.useT)();return(0,t.jsx)(r.SidebarList,{children:(0,t.jsx)(r.SidebarListItem,{children:(0,t.jsxs)(r.SidebarListItemLink,{href:"/chat",children:[(0,t.jsx)(l.ArrowLeft,{}),(0,t.jsx)("span",{children:e("sidebar.settings.backToApp")})]})})})}e.s(["SettingsSidebarContent",()=>u,"SettingsSidebarMainNav",()=>h],962658)},183461,e=>{"use strict";var t=e.i(672042),r=e.i(284492),s=e.i(740292),i=e.i(476171),a=e.i(423746),n=e.i(941813),l=e.i(275215),o=e.i(393799),d=e.i(611010);e.i(472428);var c=e.i(296900),u=e.i(297239);function h({maxChats:e=n.MAX_SHARED_CHATS,noMoreMenu:r=!1,noActiveChat:s=!1}){let{data:i}=(0,c.useServerQuerySWR)(["scoped","team"],{},{suspense:!0,revalidateNever:!0,stopFetch:!0});return i.ok?(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(x,{}),children:(0,t.jsx)(j,{maxChats:e,noMoreMenu:r,noActiveChat:s})}):null}function j({maxChats:e,noMoreMenu:n,noActiveChat:o}){let{data:d}=(0,c.useServerQuerySWR)(["scoped","chats"],{maxShared:e},{suspense:!0}),h=(0,a.useMemo)(()=>d.ok?d.value.shared.slice(0,e):[],[d,e]),j=(0,u.useT)(),{actions:x}=(0,l.useCurrentSidebar)();(0,a.useEffect)(()=>{x.setSidebarSharedChatsSkeleton(h.length)},[h.length,x]);let m=(0,a.useMemo)(()=>h.length?(0,t.jsx)(t.Fragment,{children:h.map(e=>{let a=e.title||j("sidebar.untitledChat");return(0,t.jsxs)(r.SidebarListItem,{children:[(0,t.jsx)(r.SidebarListItemLink,{noActive:o,href:`/chat/${(0,i.getSluggifiedId)(e.chatId,e.title)}`,prefetch:!1,onMouseDownNavigate:!0,children:(0,t.jsx)("span",{title:a,children:a})}),n?null:(0,t.jsx)(r.SidebarListItemAction,{children:(0,t.jsx)(s.SuspendingChatActions,{chat:e,side:"right",tooltip:{content:"",hidden:!0}})})]},e.chatId)})}):(0,t.jsx)(r.SidebarEmptyState,{children:j("sidebar.sharedEmptyState")}),[h,j,o,n]);return(0,t.jsx)(p,{children:(0,t.jsx)(r.SidebarList,{children:m})})}function p({children:e,className:s}){let{atoms:i,actions:a}=(0,l.useCurrentSidebar)(),n=(0,o.useAtomValue)(i.sidebarSharedChatsCollapsed),c=a.setSidebarSharedChatsCollapsed,h=(0,u.useT)();return(0,t.jsx)(r.SidebarListContainer,{className:s,children:(0,t.jsxs)(d.Collapsible,{className:"flex flex-col gap-0",open:!n,onOpenChange:e=>c(!e),children:[(0,t.jsx)(d.CollapsibleTrigger,{asChild:!0,children:(0,t.jsx)(r.SidebarLabel,{open:!n,children:h("sidebar.shared")})}),(0,t.jsx)(d.CollapsibleContent,{children:e})]})})}function x(){let{atoms:e}=(0,l.useCurrentSidebar)(),s=(0,o.useAtomValue)(e.sidebarSharedChatsSkeleton);return(0,t.jsx)(p,{className:"shared-skeleton",children:(0,t.jsx)(r.SidebarListSkeleton,{length:s})})}e.s(["SuspendingSidebarShared",()=>h,"SuspendingSidebarSharedInner",()=>j])}]);